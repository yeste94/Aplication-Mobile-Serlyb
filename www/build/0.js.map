{"version":3,"sources":["../../src/pages/model-trabajador-vivienda/model-trabajador-vivienda.module.ts","../../src/pages/model-trabajador-vivienda/model-trabajador-vivienda.ts"],"names":[],"mappings":"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","file":"0.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ModelTrabajadorViviendaPage } from './model-trabajador-vivienda';\n\n@NgModule({\n  declarations: [\n    ModelTrabajadorViviendaPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ModelTrabajadorViviendaPage),\n  ],\n})\nexport class ModelTrabajadorViviendaPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/model-trabajador-vivienda/model-trabajador-vivienda.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController } from 'ionic-angular';\nimport { Renderer } from '@angular/core';\n\nimport {TrabajadorServiceProvider} from '../../providers/trabajador-service/trabajador-service';\nimport { ToastController } from 'ionic-angular';\n/**\n * Generated class for the ModelTrabajadorViviendaPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\nimport { LoadingController } from 'ionic-angular';\n@IonicPage()\n@Component({\n  selector: 'page-model-trabajador-vivienda',\n  templateUrl: 'model-trabajador-vivienda.html',\n})\nexport class ModelTrabajadorViviendaPage {\n\n\tvivienda:any;\n\ttrabajadores= [];\n  trabajadoresSelect = \"\";\n  date:any;\n  loader:any;\n  constructor(public navCtrl: NavController, \n  \t\t\tpublic navParams: NavParams,\n  \t\t\tpublic renderer: Renderer,\n  \t\t\tpublic viewCtrl: ViewController,\n        public _trabajadorServiceProvider: TrabajadorServiceProvider,\n        public loadingCtrl: LoadingController,\n        private toastCtrl: ToastController) {\n\n    //Abrir modal\n  \tthis.renderer.setElementClass(viewCtrl.pageRef().nativeElement, 'my-popup', true);\n    //Recoger variable\n    this.vivienda = navParams.get('vivienda');\n\n    //Traer todos los trabajadores\n    this._trabajadorServiceProvider.getTrabajadores()\n      .then( value =>{\n        let trab = value.json();\n\n        for(let i=0; i<trab.length; i++){\n          this.trabajadores.push(trab[i]);\n        }\n      })\n  }\n\n  ionViewDidLoad() {\n   // console.log('ionViewDidLoad ModelTrabajadorViviendaPage');\n  }\n\n  onSelectChange(selectedValue: any) {\n    this.trabajadoresSelect = \"\";\n    //this.trabajadoresSelect = selectedValue;\n    console.log(selectedValue);\n    for(let i=0; i<selectedValue.length; i++){\n      this.trabajadoresSelect += selectedValue[i].split(\" \")[0]+\",\";\n    }\n    this.trabajadoresSelect = this.trabajadoresSelect.substr(0, this.trabajadoresSelect.length-1);\n\n    //console.log('Selected', selectedValue);\n  }\n\n  EnviarLista(){\n\n    this.loader = this.loadingCtrl.create({content: \"Cargando...\"});\n    this.loader.present();\n\n    this._trabajadorServiceProvider.crearTrabajadorVivienda(this.vivienda,this.date,this.trabajadoresSelect)\n      .then(value=>{\n        console.log('Guardado CORRECT!'+ value );\n        this.loader.dismiss();\n        this.presentToast('Guardado correctamente');\n         this.viewCtrl.dismiss();\n      })\n      .catch(error=>{\n        this.presentToast('Error al guardar');\n      })\n  }\n\n\npresentToast(mensaje:string) {\n  let toast = this.toastCtrl.create({\n    message: mensaje,\n    duration: 3000,\n    position: 'top'\n  });\n\n  toast.onDidDismiss(() => {\n    console.log('Dismissed toast');\n  });\n\n  toast.present();\n}\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/model-trabajador-vivienda/model-trabajador-vivienda.ts"],"sourceRoot":""}